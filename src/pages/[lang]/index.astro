---
import ActionButton from '@components/ActionButton.astro'
import ActionLink from '@components/ActionLink.astro'
import Card from '@components/Card.astro'
import InstagramIcon from '@components/icons/Instagram.astro'
import TikTok from '@components/icons/TikTok.astro'
import constants from '@i18n/constants'
import en from '@i18n/en'
import es from '@i18n/es'
import BaseLayout from '@layouts/BaseLayout.astro'
import { Mail, MapPin, Phone, QrCode } from '@lucide/astro'

const logoPath = '/steel-and-soul-garage/images/logo.webp'

export function getStaticPaths() {
  return [{ params: { lang: 'en' } }, { params: { lang: 'es' } }]
}

interface LanguageParams {
  lang: 'en' | 'es'
}

export const defaultRedirect = '/en'
const { lang } = Astro.params as LanguageParams
const translations = {
  en,
  es
}
const t = translations[lang]
---

<BaseLayout lang={lang} t={t}>
  <div class="max-w-2xl mx-auto px-4 py-8 sm:py-12">
    <div class="mb-8 flex justify-center">
      <img
        src={logoPath}
        alt="Steel & Soul Garage Logo"
        class="w-full max-w-md h-auto rounded-2xl shadow-2xl"
        loading="eager"
      />
    </div>

    <h1 class="text-center mb-8 text-4xl sm:text-5xl font-bold">
      <span class="bg-linear-to-r from-cyan-400 via-pink-400 to-purple-400 bg-clip-text text-transparent dark:drop-shadow-[0_0_30px_rgba(34,211,238,0.5)]">
        {constants.title}
      </span>
    </h1>

    <div class="space-y-4">
      <ActionLink
        href={constants.socialNetworks.instagram}
        variant="instagram"
        external
      >
        <InstagramIcon />
        <span class="text-lg">@{constants.socialNetworks.handle}</span>
      </ActionLink>

      <ActionLink
        href={constants.socialNetworks.tiktok}
        variant="tiktok"
        external
      >
        <TikTok size={24} />
        <span class="text-lg">@{constants.socialNetworks.handle}</span>
      </ActionLink>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <ActionLink
          href={`mailto:${constants.email}`}
          variant="email"
        >
          <Mail size={24} />
          <span class="text-lg">{t.contactUs.email}</span>
        </ActionLink>

        <ActionLink
          href={`tel:${constants.phone}`}
          variant="phone"
        >
          <Phone size={24} />
          <span class="text-lg">{t.contactUs.phone}</span>
        </ActionLink>
      </div>

      <ActionButton
        badgeText={t.comingSoon}
        disabled
        variant="payment"
      >
        <QrCode size={24} />
        <span class="text-lg">{t.paymentButton}</span>
      </ActionButton>

      <Card class="bg-white/80 dark:bg-gray-900/50 border border-gray-200 dark:border-pink-500/30">
        <h3 class="mb-3 text-xl font-semibold text-gray-900 dark:text-pink-400">
          {t.about.title}
        </h3>
        <p class="text-gray-700 dark:text-gray-300">
          {t.about.text}
        </p>
      </Card>

      <Card class="p-0 overflow-hidden bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-cyan-500/30">
        <div class="p-4">
          <div class="flex items-center gap-2 mb-3">
            <MapPin size={24} class="text-gray-700 dark:text-cyan-400" />
            <h3 class="text-xl font-semibold text-gray-900 dark:text-cyan-400">{t.contactUs.location}</h3>
          </div>
        </div>

        <div class="w-full h-64">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.8259895234!2d-74.13!3d4.61!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNMKwMzYnMzYuMCJOIDc0wrAwNyc0OC4wIlc!5e0!3m2!1sen!2sco!4v1234567890"
            width="100%"
            height="100%"
            style="border: 0;"
            allowfullscreen
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Steel & Soul Garage Location"
          />
        </div>
        <div class="p-3 text-sm text-center text-gray-600 dark:text-gray-400">
          {constants.address}
        </div>
      </Card>
    </div>
  </div>
</BaseLayout>

