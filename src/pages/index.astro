---
import ActionButton from '@components/ActionButton.astro'
import ActionLink from '@components/ActionLink.astro'
import Card from '@components/Card.astro'
import TikTok from '@components/icons/TikTok.astro'
import BaseLayout from '@layouts/BaseLayout.astro'
import { Instagram, Mail, MapPin, Phone, QrCode } from '@lucide/astro'

// Simple translation loader (since content collections might not be working yet)
const currentLang = 'en' // Will be dynamic with cookie/localStorage

const translations = {
  en: {
    aboutText:
      'We are a Latin American Garage trying to disrupt the LowRider and bikes custom paint.',
    aboutTitle: 'About Us',
    email: 'Email Us',
    instagram: 'S&S Garage on Instagram',
    languageToggle: '游뻟릖 Cambiar a Espa침ol',
    location: 'Our Location',
    payment: 'Make a Payment',
    phone: 'Call Us',
    tiktok: 'S&S Garage on TikTok',
    title: 'Steel & Soul Garage'
  },
  es: {
    aboutText:
      'Somos un Garage Latinoamericano tratando de revolucionar el pintado personalizado de LowRiders y motos.',
    aboutTitle: 'Sobre Nosotros',
    email: 'Env칤anos un Email',
    instagram: 'S&S Garage en Instagram',
    languageToggle: '游쥟릖 Switch to English',
    location: 'Nuestra Ubicaci칩n',
    payment: 'Realizar un Pago',
    phone: 'Ll치manos',
    tiktok: 'S&S Garage en TikTok',
    title: 'Steel & Soul Garage'
  }
}

const t = translations[currentLang as keyof typeof translations]
const logoPath = '/steel-and-soul-garage/images/logo.webp'
---

<BaseLayout title={t.title}>
  <div class="max-w-2xl mx-auto px-4 py-8 sm:py-12">
    <!-- Logo -->
    <div class="mb-8 flex justify-center">
      <img
        src={logoPath}
        alt="Steel & Soul Garage Logo"
        class="w-full max-w-md h-auto rounded-2xl shadow-2xl"
        loading="eager"
      />
    </div>

    <!-- Title -->
    <h1 class="text-center mb-8 text-4xl sm:text-5xl font-bold">
      <span class="bg-linear-to-r from-cyan-400 via-pink-400 to-purple-400 bg-clip-text text-transparent dark:drop-shadow-[0_0_30px_rgba(34,211,238,0.5)]">
        {t.title}
      </span>
    </h1>

    <!-- Links Container -->
    <div class="space-y-4">
      <!-- Instagram Button -->
      <ActionLink
        href="https://www.instagram.com/steel.and.soul.garage/"
        variant="instagram"
        external
      >
        <Instagram size={24} />
        <span class="text-lg">{t.instagram}</span>
      </ActionLink>

      <!-- TikTok Button -->
      <ActionLink
        href="https://www.tiktok.com/@steel.and.soul.garage"
        variant="tiktok"
        external
      >
        <TikTok size={24} />
        <span class="text-lg">{t.tiktok}</span>
      </ActionLink>

      <!-- Email and Phone Buttons Row -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <!-- Email Button -->
        <ActionLink
          href="mailto:steel.and.soul.garage@gmail.com"
          variant="email"
        >
          <Mail size={24} />
          <span class="text-lg">{t.email}</span>
        </ActionLink>

        <!-- Phone Button -->
        <ActionLink
          href="tel:+573142766708"
          variant="phone"
        >
          <Phone size={24} />
          <span class="text-lg">{t.phone}</span>
        </ActionLink>
      </div>

      <!-- QR Payment Button -->
      <ActionButton
        variant="payment"
        onclick="alert('QR Payment functionality coming soon!')"
      >
        <QrCode size={24} />
        <span class="text-lg">{t.payment}</span>
      </ActionButton>

      <!-- Language Toggle Button -->
      <ActionButton
        variant="language"
        onclick="window.toggleLanguage()"
      >
        <span class="text-lg">{t.languageToggle}</span>
      </ActionButton>

      <!-- About Us Card -->
      <Card class="bg-white/80 dark:bg-gray-900/50 border border-gray-200 dark:border-pink-500/30">
        <h3 class="mb-3 text-xl font-semibold text-gray-900 dark:text-pink-400">
          {t.aboutTitle}
        </h3>
        <p class="text-gray-700 dark:text-gray-300">
          {t.aboutText}
        </p>
      </Card>

      <!-- Google Maps Card -->
      <Card class="p-0 overflow-hidden bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-cyan-500/30">
        <div class="p-4">
          <div class="flex items-center gap-2 mb-3">
            <MapPin size={24} class="text-gray-700 dark:text-cyan-400" />
            <h3 class="text-xl font-semibold text-gray-900 dark:text-cyan-400">{t.location}</h3>
          </div>
        </div>
        <div class="w-full h-64">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.8259895234!2d-74.13!3d4.61!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNMKwMzYnMzYuMCJOIDc0wrAwNyc0OC4wIlc!5e0!3m2!1sen!2sco!4v1234567890"
            width="100%"
            height="100%"
            style="border: 0;"
            allowfullscreen
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Steel & Soul Garage Location"
          />
        </div>
        <div class="p-3 text-sm text-center text-gray-600 dark:text-gray-400">
          Calle 51 A # 35-39 Sur - Fatima - Bogot치 D.C. - Colombia
        </div>
      </Card>
    </div>

    <!-- Footer -->
    <div class="mt-12 text-center">
      <p class="text-sm text-gray-600 dark:text-gray-500">
        춸 2025 Steel & Soul Garage
      </p>
    </div>
  </div>

  <!-- Language switching script -->
  <script>
    import '../scripts/language';
  </script>
</BaseLayout>

