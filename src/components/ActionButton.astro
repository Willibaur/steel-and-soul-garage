---
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'button'> {
  variant: 'payment' | 'language'
  disabled?: boolean
  badgeText?: string
}

const {
  variant,
  disabled = false,
  badgeText,
  class: className = '',
  ...rest
} = Astro.props

const variantClasses = {
  language:
    'dark:from-cyan-500 dark:to-pink-500 from-cyan-400 to-pink-400 dark:hover:shadow-cyan-500/50',
  payment:
    'dark:from-yellow-600 dark:to-orange-600 from-yellow-500 to-orange-500 dark:hover:shadow-yellow-500/50'
}
---

<button
  class:list={[
    'block w-full p-4 rounded-xl transition-all text-white',
    !disabled && 'transform hover:scale-105 bg-linear-to-r hover:shadow-lg',
    !disabled && variantClasses[variant],
    disabled && 'opacity-50 cursor-not-allowed bg-gray-400 dark:bg-gray-600',
    className
  ]}
  disabled={disabled}
  {...rest}
>
  <div class="flex items-center justify-center gap-3">
    <slot />
    {disabled && badgeText && (
      <span class="text-xs px-2 py-1 rounded-full bg-purple-500 dark:bg-purple-600 text-white font-semibold shadow-sm">
        {badgeText}
      </span>
    )}
  </div>
</button>
